$(document).ready(function(){function e(e){for(var t=0;t<o.length;t++)e.uid===o[t].uid&&(d=t,$("#name-item .profile-content").html(o[t].name),$("#gender-item .profile-content").html(o[t].gender),$("#country-item .profile-content").html(o[t].country),$("#about-item .profile-content").html(o[t].about),$("#name-edit > div > input").val(o[t].name),$("#gender-edit > div > input").val(o[t].gender),$("#country-edit > div > input").val(o[t].country),$("#about-edit > div > textarea").html(o[t].about))}var t=new Firebase("https://bookmark-manager.firebaseio.com/"),i=t.getAuth();if(!i){var a="index.html";$(location).attr("href",a)}var n=t.child("users"),o=[];n.on("child_added",function(t){console.log(t.val()),o.push(t.val()),t.val().uid===i.uid&&e(i)},function(){alert("Failed to retrive Users' list")});var d=0;$(".list-toggle .saved").on("mouseenter",function(){$(this).addClass("editable"),$(this).find(".glyphicon").show()}),$(".list-toggle .saved").on("mouseleave",function(){$(this).removeClass("editable"),$(this).find(".glyphicon").hide()}),$(".list-toggle .saved").on("click",function(){$(".list-toggle").addClass("active"),$(this).parent().removeClass("active")}),$("#save-profile").click(function(){var a=$("#name-edit > div > input").val(),n=$("#gender-edit > div > input").val(),l=$("#country-edit > div > input").val(),r=$("#about-edit > div > textarea").val(),u=t.child("users");u.on("child_added",function(t){if(t.val().uid===i.uid){var s=u.child(t.key());s.on("child_added",function(){s.update({name:a}),s.update({gender:n}),s.update({country:l}),s.update({about:r}),o[d].name=a,o[d].gender=n,o[d].country=l,o[d].about=r,e(i),$(".info-saved").show(),$(".info-saved").fadeOut("1000",function(){})},function(){alert("Failed to save")})}},function(){alert("Failed to retrive Users' list while saving")}),$(".list-toggle").addClass("active"),$(this).parent().parent().parent().removeClass("active")})});